[TOC]

# 用户



## 01.发送验证码

> `get` ~~www.jinx.com/api~~    api.jinx.com/get_code

|参数|类型|必需/可选|默认|描述|
|:-:|:-|:-:|:-:|:-|
|**time**|**int**|**`必需`**|**无**|**时间戳**(用于判断请求是否超时)|
|**token**|**string**|**`必需`**|**无**|**确定来访者身份**|
|user_name|string|`必需`|无|手机号或邮箱|
|is_exist|int|`必需`|无|手机号或邮箱是否应该存在(0:否 1:是)|

~~~javascript
{
    "code": 200,
    "msg": '手机号码已经发送成功，每天可以发五次，请在一分钟内验证！',
    "data": []
}
~~~



## 02.用户注册

> `post` api.jinx.com/register


| **参数** | **类型** | **必需/可选** | **默认** | **描述** |
| :-: | :-: | :-: | :-: | :- |
|**time**|**int**|**`必需`**|**无**|**时间戳**(用于判断请求是否超时)|
|**token**|**string**|**`必需`**|**无**|**确定来访者身份**|
|user_name|string|`必需`|无|手机号或邮箱|
|password|string|`必需`|无|md5加密的用户密码|
|code|string|`必需`|无|用户收到的验证码|


```javascript
{
    "code": 200,
    "msg": "注册成功",
    "data": 11 // 用户id
}
```



## 03.用户登录


> `post` api.jinx.com/login


| **参数** | **类型** | **必需/可选** | **默认** | **描述** |
| :-: | :-: | :-: | :-: | :- |
|**time**|**int**|**`必需`**|**无**|**时间戳**(用于判断请求是否超时)|
|**token**|**string**|**`必需`**|**无**|**确定来访者身份**|
|user_name|string|`必需`|无|手机号或者邮箱|
|password|string|`必需`|无|md5加密的用户密码|

```javascript
{
    "code": 200,
    "msg": "登录成功",
    "data": {
        "id": "3", // 用户id
        "user_name": "神织知更", // 用户昵称
        "user_phone": "15119498976", // 用户手机号
        "user_email": "1131271533@qq.com", // 用户邮箱
        "create_time": "1636945106", // 用户注册时间
        "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6NCcm........." // token
    }
}
```



## 04.用户上传头像

> `post` api.jinx.com/user/avatar

| **参数** | **类型** | **必需/可选** | **默认** | **描述** |
| :-: | :-: | :-: | :-: | :- |
|**time**|**int**|**`必需`**|**无**|**时间戳**(用于判断请求是否超时)|
|**token**|**string**|**`必需`**|**无**|**确定来访者身份**|
|id|int|必需|无|用户id|
|user_avatar|strint|必需|无|用户头像(默认200 x 200)|

```javascript
{
    "code": 200,
    "msg": "头像设置成功！",
    "data": "/storage/20210907/ef580909368d824e899f77c7c98388.jpg" // 头像文件路径
}
```



## 05.用户修改密码

> `post` api.jinx.com/user/change_pwd

|**参数**|**类型**|**必需/可选**|**默认**|**描述**|
|:-:|:-:|:-:|:-:|:-|
|**time**|**int**|**`必需`**|**无**|**时间戳**(用于判断请求是否超时)|
|**token**|**string**|**`必需`**|**无**|**确定来访者身份**|
|user_name|string|`必需`|无|用户名|
|password|string|`必需`|无|用户的原密码|
|newpassword|string|`必需`|无|用户名的新密码|
|repassword|string|`必需`|无|重复新密码|

```javascript
{
    "code": 200,
    "msg": "密码修改成功！",
    "data": []
}
```



## 06.用户找回密码

> `post` api.jinx.com/user/find_pwd

|**参数**|**类型**|**必需/可选**|**默认**|**描述**|
|:-:|:-:|:-:|:-:|:-|
|**time**|**int**|**`必需`**|**无**|**时间戳**(用于判断请求是否超时)|
|**token**|**string**|**`必需`**|**无**|**确定来访者身份**|
|user_name|string|`必需`|无|用户名(手机或邮箱)|
|code|string|`必需`|无|验证码|
|newpassword|string|`必需`|无|用户的新密码|
|repassword|string|`必需`|无|重复密码|

```javascript
{
    "code": 200,
    "msg": "密码修改成功！",
    "data": []
}
```



## 07.用户绑定手机号

> `post` api.jinx.com/user/bind_phone

|**参数**|**类型**|**必需/可选**|**默认**|**描述**|
|:-:|:-:|:-:|:-:|:-|
|**time**|**int**|**`必需`**|**无**|**时间戳**(用于判断请求是否超时)|
|**token**|**string**|**`必需`**|**无**|**确定来访者身份**|
|id|int|`必需`|无|用户id|
|code|string|`必需`|无|验证码|
|phone|string|`必需`|无|用户的手机号|

```javascript
{
    "code": 200,
    "msg": "手机号绑定成功！",
    "data": []
}
```



## 08.用户绑定邮箱

> `post` api.jinx.com/user/bind_email

|**参数**|**类型**|**必需/可选**|**默认**|**描述**|
|:-:|:-:|:-:|:-:|:-|
|**time**|**int**|**`必需`**|**无**|**时间戳**(用于判断请求是否超时)|
|**token**|**string**|**`必需`**|**无**|**确定来访者身份**|
|id|int|`必需`|无|用户id|
|code|string|`必需`|无|验证码|
|email|string|`必需`|无|用户的邮箱|

```javascript
{
    "code": 200,
    "msg": "邮箱绑定成功！",
    "data": []
}
```



## 09.用户设定昵称

> `post`api.jinx.com/user/nickname

| 参数 | 类型 | 必需/可选 | 默认 | 描述 |
| :-: | :-: | :-: | :-: | :- |
| **time** | **int** | **`必需`** | **无** | **时间戳**(用于判断请求是否超时) |
| **token** | **string** | **`必需`** | **无** | **确定来访者身份** |
| id | int | `必需` | 无 | 用户id |
| nickname | string | `必需` | 无 | 昵称 |

```javascript
{
    "code": 200,
    "msg": "昵称修改成功！",
    "data": []
}
```



# 文章



## 01.新增文章

> `post`api.jinx.com/article

|参数|类型|必需/可选|默认|描述|
|:-:|:-:|:-:|:-:|:-|
|**time**|**int**|**`必需`**|**无**|**时间戳**(用于判断请求是否超时)|
|**token**|**string**|**`必需`**|**无**|**确定来访者的身份**|
|user_id|int|`必需`|无|用户id|
|title|string|`必需`|无|文章标题|

```javascript
{
    "code": 200,
    "msg": "新增文章成功！",
    "data": "3" // 新增文章的id
}
```



## 02.查看文章列表

> `get`api.jinx.com/articles

|   参数    |    类型    | 必需/可选  |  默认  | 描述 |
| :-------: | :--------: | :--------: | :----: | :-- |
| **time**  |  **int**   | **`必需`** | **无** | **时间戳**(用于判断请求是否超时) |
| **token** | **string** | **`必需`** | **无** | **确定来访者的身份** |
|  user_id  |    int     |   `必需`   |   无   | 用户id |
|  number   |    int     |   非必需   |   10   | 每页个数 |
|   page    |    int     |   非必需   |   1    | 页码 |

```javascript
{
    "code": 200,
    "msg": "成功",
    "data": {
        "articles": [
            {
                "id": 12, // 文章id
                "title": "浸泡世界的哭泣5", // 文章标题
                "create_time": 1637571009 // 文章创建时间
            },
            {
                "id": 11,
                "title": "浸泡世界的哭泣内容4",
                "create_time": 1637570864
            }
        ],
        "page_num": 3, // 文章列表总页数
        "author": "金克丝" // 文章作者名称
    }
}
```



## 03.查看单个文章信息

> `get` api.jinx.com/article

| 参数 | 类型 | 必需/可选 | 默认 | 描述 |
| :-: | :-: | :-: | :-: | :- |
| **time** | **int** | **`必需`** | **无** | **时间戳**(用于判断请求是否超时) |
| **token** | **string** | **`必需`** | **无** | **确定来访者身份** |
| id | int | `必需` | 无 | 文章id |

```javascript
{
    "code": 200,
    "msg": "成功",
    "data": {
        "id": 14,
        "title": "天空上下的雨，滴落在契约纸上，哒哒哒，仿佛三千世界都在哭泣",
        "create_time": 1637648880,
        "nickname": "金克丝",
        "content": "<script>'阿卡丽'</script>"
    }
}
```



## 04.修改/保存文章

> `put` api.jinx.com/article

| 参数 | 类型 | 必需/可选 | 默认 | 描述 |
| :-: | :-: | :-: | :-: | :- |
| **time** | **int** | **`必需`** | **无** | **时间戳**(用于判断请求是否超时) |
| **token** | **string** | **`必需`** | **无** | **确定来访者身份** |
| id | int | `必需` | 无 | 文章id |

```javascript
{
    "code": 200,
    "msg": "文章更新成功！",
    "data": []
}
```



## 05.删除文章

> `delete` api.jinx.com/article

|参数|类型|必需/可选|默认|描述|
|:-:|:-:|:-:|:-:|:-|
|**time**|**int**|**`必需`**|**无**|**时间戳**(用于判断请求是否超时)|
|**token**|**string**|**`必需`**|**无**|**确定来访者身份**|
|id|int|`必需`|无|文章id|

```javascript
{
    "code": 200,
    "msg": "文章删除成功！",
    "data": []
}
```





























